{
 	"name": "Api",
  	"base": "PersistedModel",
  	"idInjection": false,
  	"strict": true,
  	"options": {
		"validateUpsert": true
  	},
  	"properties": {
		"id": {
	  		"type": "string",
	  		"id": true,
	  		"generated": false,
	  		"defaultFn": "uuidv4"
		},
		"tenantId": {
	  		"type": "string",
	  		"required": true
		},
		"name": {
			"type": "string",
			"required": true
		},
		"audience": {
		 	"type": ["string"],
		  	"description": "Array of tenant IDs. Is needed for authorization / visibility of APIs etc. No tenant means public!"
		},
		"swagger": {
		  	"type": "object",
		  	"description": "Contains detailed description of the API, e.g. version, hostname, basepath, contact, etc.",
		  	"required": true
		},
		"state": {
		  	"type": "string",
		  	"required": true,
		  	"enum": ["enabled", "disabled", "deprecated"],
		  	"default": "enabled"
		},
		"approvalWorkflow": {
		  	"type": "boolean",
		  	"description": "Needed for for client registrations",
		  	"required": true,
		  	"default": false
		},
		"approvalEndpoint": {
		  	"type": "string",
		  	"description": "Mandatory if approval-workflow is true"
		},
		"updatedBy": {
			"type": "string",
			"required": true
		},
		"createdBy": {
			"type": "string",
			"required": true
		}
  	},
	"validations": [],
	"relations": {
		"clients": {
			"type": "hasMany",
			"model": "Client",
			"foreignKey": "apiId",
			"through": "ClientRegistration"
		},
		"tenants": {
			"type": "belongsTo",
			"model": "Tenant",
			"foreignKey": "tenantId"
		}
	},
	"acls": [],
	"methods": {},
	"mixins": {
		"TimeStamp": {
	  		"required" : true,
	  		"validateUpsert": true
		}
	}
}
